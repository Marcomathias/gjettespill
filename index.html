<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Julequizzen</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #F0F8F9;
            color: #274247;
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        h1 {
            color: #7E5EE8;
            font-size: 3em;
        }
        h2 {
            color: #7E5EE8;
            font-size: 2em;
        }
        .question-container {
            display: none;
            margin-top: 20px;
        }
        .visible {
            display: block;
        }
        .answer-box {
            background-color: #C3DCDC;
            border: 2px solid #7E5EE8;
            border-radius: 10px;
            padding: 30px; 
            margin: 20px auto; 
            width: 85%; 
            max-width: 500px; 
            cursor: pointer;
            font-size: 22px; 
            font-weight: bold;
            color: #274247;
            transition: transform 0.2s ease;
        }
        .answer-box:hover {
            transform: scale(1.1); 
            background-color: #b6e8b8;
        }
        .message, .progress {
            font-weight: bold;
            margin-top: 20px;
        }
        img {
            width: 100%; 
            max-width: 400px; 
            margin: 20px 0;
        }
        #endMessage {
            background-color: #ECFEED;
            padding: 30px; 
            border-radius: 10px;
            border: 2px solid #7E5EE8;
        }
        canvas {
            border: 2px solid #7E5EE8;
            cursor: crosshair;
            margin: 20px auto;
            display: block;
            width: 100%;
            max-width: 800px;
            height: auto;
            background: url('graph.png') no-repeat left center;
            background-size: contain;
        }
        button {
            padding: 15px 30px; 
            font-size: 18px; 
            background-color: #00824D;
            color: #FFFFFF;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover {
            background-color: #274247;
        }
        #nextBtn {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Julequizzen</h1>
    <div id="progress" class="progress">Spørsmål 1 av 10</div>
    <div id="currentScore" class="progress">Poeng hittil: 0</div>

    <div id="question1" class="question-container visible">
        <h2>Hvor mange juletrær importerte Norge i fjor?</h2>
        <div class="answer-box" onclick="checkAnswer(1, 1)">500</div>
        <div class="answer-box" onclick="checkAnswer(1, 2)">165 753</div>
        <div class="answer-box" onclick="checkAnswer(1, 3)">265 459</div>
        <div class="answer-box" onclick="checkAnswer(1, 4)">69 420</div>
        <div id="message1" class="message"></div>
        <button id="nextBtn1" style="display:none;" onclick="goNextQuestion(1)">Neste spørsmål</button>
    </div>

    <div id="question2" class="question-container">
        <h2>Hvilke av disse reiselivsregionene hadde mest overnattinger på hotell i desember i fjor?</h2>
        <div class="answer-box" onclick="checkAnswer(2, 1)">Tromsø</div>
        <div class="answer-box" onclick="checkAnswer(2, 2)">Lillehammer-region</div>
        <div class="answer-box" onclick="checkAnswer(2, 3)">Lofoten</div>
        <div class="answer-box" onclick="checkAnswer(2, 4)">Svalbard</div>
        <div id="message2" class="message"></div>
        <button id="nextBtn2" style="display:none;" onclick="goNextQuestion(2)">Neste spørsmål</button>
    </div>

    <div id="question3" class="question-container">
        <h2>Hva viser tallet på bildet?</h2>
        <img src="image.png" alt="Bilde av tall">
        <div class="answer-box" onclick="checkAnswer(3, 1)">Eksport av akevitt målt i liter</div>
        <div class="answer-box" onclick="checkAnswer(3, 2)">Import av akevitt målt i liter</div>
        <div class="answer-box" onclick="checkAnswer(3, 3)">Solgte liter juleøl</div>
        <div class="answer-box" onclick="checkAnswer(3, 4)">Solgte liter julebrus</div>
        <div id="message3" class="message"></div>
        <button id="nextBtn3" style="display:none;" onclick="goNextQuestion(3)">Neste spørsmål</button>
    </div>

    <div id="question4" class="question-container">
        <h2>Går grafen opp eller ned?</h2>
        <p>Tegn videre på grafen for å vise om den går opp eller ned.</p>
        <canvas id="draw-area" width="800" height="400"></canvas>
        <button onclick="checkDrawing()">Sjekk tegning</button>
        <div id="message4" class="message"></div>
        <button id="nextBtn4" style="display:none;" onclick="goNextQuestion(4)">Neste spørsmål</button>
    </div>

    <!-- NYE SPØRSMÅL START (5-10) -->

    <div id="question5" class="question-container">
        <h2>Hvor mange kommunikasjonsrådgivere trengs for å sette opp et juletre?</h2>
        <div class="answer-box" onclick="checkAnswer(5, 1)">a) 1 til å sette opp treet, 2 til å lage innholdsstrategi, 3 til å lage en PowerPoint.</div>
        <div class="answer-box" onclick="checkAnswer(5, 2)">b) "Det avhenger av målgruppen og hvor mange som ser treet."</div>
        <div class="answer-box" onclick="checkAnswer(5, 3)">c) Ingen – de outsourcer til tallknusere i statistikkavdelingen.</div>
        <div id="message5" class="message"></div>
        <button id="nextBtn5" style="display:none;" onclick="goNextQuestion(5)">Neste spørsmål</button>
    </div>

    <div id="question6" class="question-container">
        <h2>Hvor mange deskmedarbeidere trengs for å publisere en sak på nettsiden rett før juleferien?</h2>
        <div class="answer-box" onclick="checkAnswer(6, 1)">a) 1 til å legge inn saken, 2 til å diskutere bildevalg, og 3 til å lure på om det egentlig er en pressemelding.</div>
        <div class="answer-box" onclick="checkAnswer(6, 2)">b) Ingen – innholdet blir aldri ferdig til publisering uansett.</div>
        <div class="answer-box" onclick="checkAnswer(6, 3)">c) "Det avhenger av hvor mange endringer som kommer i siste liten."</div>
        <div id="message6" class="message"></div>
        <button id="nextBtn6" style="display:none;" onclick="goNextQuestion(6)">Neste spørsmål</button>
    </div>

    <div id="question7" class="question-container">
        <h2>Hva er informasjonstjenestens første reaksjon når noen spør: "Hvor mange bor i Norge akkurat nå?"</h2>
        <div class="answer-box" onclick="checkAnswer(7, 1)">a) “Kan du definere akkurat nå?”</div>
        <div class="answer-box" onclick="checkAnswer(7, 2)">b) “Vi har en statistikk for det, men den oppdateres kvartalsvis.”</div>
        <div class="answer-box" onclick="checkAnswer(7, 3)">c) “Er dette til en skoleoppgave? Vi har en egen side for det!”</div>
        <div id="message7" class="message"></div>
        <button id="nextBtn7" style="display:none;" onclick="goNextQuestion(7)">Neste spørsmål</button>
    </div>

    <div id="question8" class="question-container">
        <h2>Hvordan vet du at en klarspråksrådgiver har vært involvert i årets julehilsen?</h2>
        <div class="answer-box" onclick="checkAnswer(8, 1)">a) Det står ikke “På vegne av administrativ ledelse og underavdelinger.”</div>
        <div class="answer-box" onclick="checkAnswer(8, 2)">b) Setningen "Vi ønsker dere alle en fredfylt og velformulert høytid" er fjernet.</div>
        <div class="answer-box" onclick="checkAnswer(8, 3)">c) Hilsenen består av maks to setninger og ett hyggelig ønske.</div>
        <div id="message8" class="message"></div>
        <button id="nextBtn8" style="display:none;" onclick="goNextQuestion(8)">Neste spørsmål</button>
    </div>

    <div id="question9" class="question-container">
        <h2>Hvor mange webredaktører trengs for å publisere en julehilsen på nettsiden?</h2>
        <div class="answer-box" onclick="checkAnswer(9, 1)">a) 1 til å skrive teksten, 2 til å justere mellomoverskrifter, og 1 til å korrekturlese.</div>
        <div class="answer-box" onclick="checkAnswer(9, 2)">b) 1 – men kun hvis teksten er på maks 280 tegn.</div>
        <div class="answer-box" onclick="checkAnswer(9, 3)">c) Det avhenger av hvor mange nøkkelord som må optimaliseres for SEO.</div>
        <div id="message9" class="message"></div>
        <button id="nextBtn9" style="display:none;" onclick="goNextQuestion(9)">Neste spørsmål</button>
    </div>

    <div id="question10" class="question-container">
        <h2>Hvis SSB skulle lage en statistikk over antall pepperkaker bakt i kommunikasjonsavdelingen, hvilken metode ville vi sannsynligvis brukt?</h2>
        <div class="answer-box" onclick="checkAnswer(10, 1)">a) Estimering basert på melforbruk</div>
        <div class="answer-box" onclick="checkAnswer(10, 2)">b) Spørreundersøkelse</div>
        <div class="answer-box" onclick="checkAnswer(10, 3)">c) Direkte telling</div>
        <div id="message10" class="message"></div>
        <button id="nextBtn10" style="display:none;" onclick="goNextQuestion(10)">Vis resultat</button>
    </div>

    <!-- NYE SPØRSMÅL SLUTT -->

    <div id="endMessage" class="question-container">
        <h2 id="endMessageTitle"></h2>
        <img src="nissemann.png" alt="Nissemann">
        <p id="score">Du fikk poeng!</p>
    </div>

    <script>
        let currentQuestion = 1;
        let score = 0;
        const totalQuestions = 10; 

        function updateProgress() {
            document.getElementById('progress').textContent = `Spørsmål ${currentQuestion} av ${totalQuestions}`;
        }

        function updateScore() {
            document.getElementById('currentScore').textContent = `Poeng hittil: ${score}`;
        }

        // Korrekte svar:
        // Q1: 2 (165 753)
        // Q2: 1 (Tromsø)
        // Q3: 1 (Eksport av akevitt målt i liter)
        // Q4: Tegning (Grafen går oppover)
        // Q5: 2 (b)
        // Q6: 3 (c)
        // Q7: 2 (b)
        // Q8: 1 (a)
        // Q9: 3 (c)
        // Q10:3 (c)
        const correctAnswers = [2, 1, 1, null, 2, 3, 2, 1, 3, 3];

        // Tekster for riktige svar på spørsmål 1-4:
        const correctAnswersText = {
            1: "165 753",
            2: "Tromsø",
            3: "Eksport av akevitt målt i liter",
            4: "Grafen går oppover"
        };

        // Meldinger ved riktig svar (5-10):
        const correctMessages = {
            5: "Riktig svar: b) Selvfølgelig, alt handler om målgruppen!)",
            6: "Riktig svar: c) Desken er alltid klar for 'siste liten'!)",
            7: "Riktig svar: b) Tallene er aldri så ferske som folk tror!)",
            8: "Riktig svar: a) Ingen byråkratiske julehilsener på klarspråk-vakt!",
            9: "Riktig svar: c) SEO er livsviktig – også i julen!)",
            10:"Riktig svar: c) Fulltelling is King"
        };

        function disableAnswers(question) {
            const answers = document.querySelectorAll(`#question${question} .answer-box`);
            answers.forEach(answer => {
                answer.onclick = null;
            });
        }

        function checkAnswer(question, answer) {
            const messageElement = document.getElementById(`message${question}`);
            const nextBtn = document.getElementById(`nextBtn${question}`);
            const correct = (answer === correctAnswers[question - 1]);
            
            // Disable alle svaralternativer etter første klikk
            disableAnswers(question);

            // Viser alltid neste-knapp (eller vis resultat på siste)
            if (question < totalQuestions) {
                nextBtn.textContent = "Neste spørsmål";
            } else {
                nextBtn.textContent = "Vis resultat";
            }

            // Riktig svar
            if (correct) {
                if (question <= 4) {
                    // Spm 1-4: Bare si "Riktig!"
                    messageElement.textContent = "Riktig!";
                } else {
                    // Spm 5-10: Gi riktig svar-melding
                    messageElement.textContent = correctMessages[question];
                }
                score++;
            } else {
                // Feil svar: Vis riktig svar
                if (question <= 4) {
                    messageElement.textContent = "Feil svar. Riktig svar: " + correctAnswersText[question];
                } else {
                    messageElement.textContent = "Feil svar. " + correctMessages[question];
                }
            }

            nextBtn.style.display = "inline-block";
            updateScore();
        }

        function goNextQuestion(question) {
            document.getElementById(`question${question}`).classList.remove("visible");
            if (question < totalQuestions) {
                currentQuestion++;
                document.getElementById(`question${currentQuestion}`).classList.add("visible");
                // Skjul eventuelle meldinger og neste-knapp på neste spørsmål
                document.getElementById(`message${currentQuestion}`).textContent = "";
                if (document.getElementById(`nextBtn${currentQuestion}`)) {
                    document.getElementById(`nextBtn${currentQuestion}`).style.display = "none";
                }
                updateProgress();
            } else {
                endGame();
            }
        }

        function endGame() {
            if (document.getElementById(`question${currentQuestion}`)) {
                document.getElementById(`question${currentQuestion}`).classList.remove("visible");
            }
            document.getElementById("endMessage").classList.add("visible");

            let endMessageText;
            if (score > 8) {
                endMessageText = "Gratulerer, du er ekspert på jule-statistikken!";
            } else if (score >= 5 && score <= 7) {
                endMessageText = "Gratulerer, du er midt-på-juletreet god på jule-statistikken";
            } else {
                endMessageText = "Gratulerer, men du må nok øve mer på jule-statistikken i juleferien. Du kan stemple inn med faglig administrasjon og ledelse i DFØ";
            }

            document.getElementById("endMessageTitle").textContent = endMessageText;
            document.getElementById("score").textContent = `Du fikk ${score} av ${totalQuestions} poeng!`;
        }

        const canvas = document.getElementById("draw-area");
        const ctx = canvas.getContext("2d");
        let drawing = false;
        let points = [];

        // Funksjon for å hente touch-posisjon på mobile enheter
        function getTouchPos(canvas, touchEvent) {
            const rect = canvas.getBoundingClientRect();
            const touch = touchEvent.touches[0];
            return {
                x: touch.clientX - rect.left,
                y: touch.clientY - rect.top
            };
        }

        canvas.addEventListener("mousedown", (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            drawing = true;
            points = [];
            ctx.beginPath();
            ctx.moveTo(x, y);
        });

        canvas.addEventListener("mousemove", (e) => {
            if (drawing) {
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                ctx.lineTo(x, y);
                ctx.stroke();
                points.push({ x, y });
            }
        });

        canvas.addEventListener("mouseup", () => {
            drawing = false;
        });

        // Touch-eventer for mobil
        canvas.addEventListener("touchstart", (e) => {
            e.preventDefault();
            const pos = getTouchPos(canvas, e);
            drawing = true;
            points = [];
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
        });

        canvas.addEventListener("touchmove", (e) => {
            e.preventDefault();
            if (drawing) {
                const pos = getTouchPos(canvas, e);
                ctx.lineTo(pos.x, pos.y);
                ctx.stroke();
                points.push(pos);
            }
        });

        canvas.addEventListener("touchend", () => {
            drawing = false;
        });

        function checkDrawing() {
            const messageElement = document.getElementById("message4");
            const nextBtn4 = document.getElementById("nextBtn4");

            if (points.length < 2) {
                messageElement.textContent = "Feil svar. Riktig svar: Grafen går oppover";
                nextBtn4.style.display = "inline-block";
                updateScore();
                return;
            }

            const startPoint = points[0];
            const endPoint = points[points.length - 1];

            if (endPoint.y < startPoint.y) {
                messageElement.textContent = "Riktig! Grafen går oppover.";
                score++;
            } else {
                messageElement.textContent = "Feil svar. Riktig svar: Grafen går oppover";
            }
            nextBtn4.style.display = "inline-block";
            updateScore();
        }

        updateProgress();
        updateScore();
    </script>
</body>
</html>
